<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="999px" preserveAspectRatio="none" style="width:989px;height:999px;background:#FFFFFF;" version="1.1" viewBox="0 0 989 999" width="989px" zoomAndPan="magnify"><defs/><g><!--MD5=[99e5d0319d94059708e42fb64bcac062]
class EventManager--><g id="elem_EventManager"><rect codeLine="2" fill="#F1F1F1" height="171.2656" id="EventManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="357" x="260.5" y="628"/><ellipse cx="388.75" cy="644" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M391.5156,639.875 Q391.6719,639.6563 391.8594,639.5469 Q392.0469,639.4375 392.2656,639.4375 Q392.6406,639.4375 392.875,639.7031 Q393.1094,639.9531 393.1094,640.5625 L393.1094,642.0156 Q393.1094,642.625 392.875,642.8906 Q392.6406,643.1563 392.2656,643.1563 Q391.9219,643.1563 391.7188,642.9531 Q391.5156,642.7656 391.4063,642.25 Q391.3594,641.8906 391.1719,641.7031 Q390.8438,641.3281 390.2344,641.1094 Q389.625,640.8906 389,640.8906 Q388.2344,640.8906 387.5938,641.2188 Q386.9688,641.5469 386.4688,642.2969 Q385.9844,643.0469 385.9844,644.0781 L385.9844,645.1719 Q385.9844,646.4063 386.875,647.2344 Q387.7656,648.0469 389.3594,648.0469 Q390.2969,648.0469 390.9531,647.7969 Q391.3438,647.6406 391.7656,647.2031 Q392.0313,646.9375 392.1719,646.8594 Q392.3281,646.7813 392.5313,646.7813 Q392.8594,646.7813 393.1094,647.0469 Q393.375,647.2969 393.375,647.6406 Q393.375,647.9844 393.0313,648.3906 Q392.5313,648.9688 391.7344,649.2969 Q390.6563,649.75 389.3594,649.75 Q387.8438,649.75 386.6406,649.125 Q385.6563,648.625 384.9688,647.5625 Q384.2813,646.4844 384.2813,645.2031 L384.2813,644.0469 Q384.2813,642.7188 384.8906,641.5781 Q385.5156,640.4219 386.6094,639.8125 Q387.7031,639.1875 388.9375,639.1875 Q389.6719,639.1875 390.3125,639.3594 Q390.9688,639.5156 391.5156,639.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="409.25" y="649.7285">EventManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="261.5" x2="616.5" y1="660" y2="660"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="268.5" y="671.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="280.5" y="678.5332">int channelID</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="268.5" y="688.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331" x="280.5" y="696.1426">std::map&lt;int, std::vector&lt;IEventHandler&amp;&gt;&gt; handlers</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="268.5" y="706.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="280.5" y="713.752">ILogger logger</text><line style="stroke:#181818;stroke-width:0.5;" x1="261.5" x2="616.5" y1="720.8281" y2="720.8281"/><ellipse cx="271.5" cy="735.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="280.5" y="739.3613">register(Event event, IEventHandler&amp; handler)</text><ellipse cx="271.5" cy="752.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="280.5" y="756.9707">unregister(Event event, IEventHandler&amp; handler)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="268.5" y="767.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="280.5" y="774.5801">receiveLoop()</text><ellipse cx="271.5" cy="787.9609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="280.5" y="792.1895">sendEvent(Event event)</text></g><!--MD5=[ef6e0fb57396685d3eab884a2ccd12ec]
class ConsoleLogger--><g id="elem_ConsoleLogger"><rect codeLine="44" fill="#F1F1F1" height="153.6563" id="ConsoleLogger" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204" x="653" y="636.5"/><ellipse cx="702.25" cy="652.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M705.0156,648.375 Q705.1719,648.1563 705.3594,648.0469 Q705.5469,647.9375 705.7656,647.9375 Q706.1406,647.9375 706.375,648.2031 Q706.6094,648.4531 706.6094,649.0625 L706.6094,650.5156 Q706.6094,651.125 706.375,651.3906 Q706.1406,651.6563 705.7656,651.6563 Q705.4219,651.6563 705.2188,651.4531 Q705.0156,651.2656 704.9063,650.75 Q704.8594,650.3906 704.6719,650.2031 Q704.3438,649.8281 703.7344,649.6094 Q703.125,649.3906 702.5,649.3906 Q701.7344,649.3906 701.0938,649.7188 Q700.4688,650.0469 699.9688,650.7969 Q699.4844,651.5469 699.4844,652.5781 L699.4844,653.6719 Q699.4844,654.9063 700.375,655.7344 Q701.2656,656.5469 702.8594,656.5469 Q703.7969,656.5469 704.4531,656.2969 Q704.8438,656.1406 705.2656,655.7031 Q705.5313,655.4375 705.6719,655.3594 Q705.8281,655.2813 706.0313,655.2813 Q706.3594,655.2813 706.6094,655.5469 Q706.875,655.7969 706.875,656.1406 Q706.875,656.4844 706.5313,656.8906 Q706.0313,657.4688 705.2344,657.7969 Q704.1563,658.25 702.8594,658.25 Q701.3438,658.25 700.1406,657.625 Q699.1563,657.125 698.4688,656.0625 Q697.7813,654.9844 697.7813,653.7031 L697.7813,652.5469 Q697.7813,651.2188 698.3906,650.0781 Q699.0156,648.9219 700.1094,648.3125 Q701.2031,647.6875 702.4375,647.6875 Q703.1719,647.6875 703.8125,647.8594 Q704.4688,648.0156 705.0156,648.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="722.75" y="658.2285">ConsoleLogger</text><line style="stroke:#181818;stroke-width:0.5;" x1="654" x2="856" y1="668.5" y2="668.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="661" y="679.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="673" y="687.0332">LogLevel level</text><line style="stroke:#181818;stroke-width:0.5;" x1="654" x2="856" y1="694.1094" y2="694.1094"/><ellipse cx="664" cy="708.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="673" y="712.6426">setLogLevel(LogLevel level)</text><ellipse cx="664" cy="726.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="673" y="730.252">debug(std::string msg)</text><ellipse cx="664" cy="743.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="673" y="747.8613">info(std::string msg)</text><ellipse cx="664" cy="761.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="673" y="765.4707">warning(std::string msg)</text><ellipse cx="664" cy="778.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="673" y="783.0801">error(std::string msg)</text></g><!--MD5=[74026ca718864ade72d8a12fd1b4e377]
class Watchdog--><g id="elem_Watchdog"><rect codeLine="14" fill="#F1F1F1" height="100.8281" id="Watchdog" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="250" y="255.5"/><ellipse cx="322.75" cy="271.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M325.5156,267.375 Q325.6719,267.1563 325.8594,267.0469 Q326.0469,266.9375 326.2656,266.9375 Q326.6406,266.9375 326.875,267.2031 Q327.1094,267.4531 327.1094,268.0625 L327.1094,269.5156 Q327.1094,270.125 326.875,270.3906 Q326.6406,270.6563 326.2656,270.6563 Q325.9219,270.6563 325.7188,270.4531 Q325.5156,270.2656 325.4063,269.75 Q325.3594,269.3906 325.1719,269.2031 Q324.8438,268.8281 324.2344,268.6094 Q323.625,268.3906 323,268.3906 Q322.2344,268.3906 321.5938,268.7188 Q320.9688,269.0469 320.4688,269.7969 Q319.9844,270.5469 319.9844,271.5781 L319.9844,272.6719 Q319.9844,273.9063 320.875,274.7344 Q321.7656,275.5469 323.3594,275.5469 Q324.2969,275.5469 324.9531,275.2969 Q325.3438,275.1406 325.7656,274.7031 Q326.0313,274.4375 326.1719,274.3594 Q326.3281,274.2813 326.5313,274.2813 Q326.8594,274.2813 327.1094,274.5469 Q327.375,274.7969 327.375,275.1406 Q327.375,275.4844 327.0313,275.8906 Q326.5313,276.4688 325.7344,276.7969 Q324.6563,277.25 323.3594,277.25 Q321.8438,277.25 320.6406,276.625 Q319.6563,276.125 318.9688,275.0625 Q318.2813,273.9844 318.2813,272.7031 L318.2813,271.5469 Q318.2813,270.2188 318.8906,269.0781 Q319.5156,267.9219 320.6094,267.3125 Q321.7031,266.6875 322.9375,266.6875 Q323.6719,266.6875 324.3125,266.8594 Q324.9688,267.0156 325.5156,267.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="343.25" y="277.2285">Watchdog</text><line style="stroke:#181818;stroke-width:0.5;" x1="251" x2="467" y1="287.5" y2="287.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="258" y="298.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192" x="270" y="306.0332">EventManager* eventManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="251" x2="467" y1="313.1094" y2="313.1094"/><ellipse cx="261" cy="327.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="270" y="331.6426">notify(Event event)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="258" y="342.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="270" y="349.252">sendHeartbeatLoop()</text></g><!--MD5=[8574b24f32bb9fcb0a100948d7d93e6b]
class IEventHandler--><g id="elem_IEventHandler"><rect codeLine="23" fill="#F1F1F1" height="65.6094" id="IEventHandler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="165.5" y="59.5"/><ellipse cx="191.3" cy="75.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M192.2531,72.1406 L192.2531,78.7969 L193.9719,78.7969 Q194.5813,78.7969 194.8469,79.0313 Q195.1125,79.2656 195.1125,79.6563 Q195.1125,80.0313 194.8469,80.2656 Q194.5813,80.5 193.9719,80.5 L188.8313,80.5 Q188.2219,80.5 187.9563,80.2656 Q187.6906,80.0313 187.6906,79.6406 Q187.6906,79.2656 187.9563,79.0313 Q188.2219,78.7969 188.8313,78.7969 L190.55,78.7969 L190.55,72.1406 L188.8313,72.1406 Q188.2219,72.1406 187.9563,71.9063 Q187.6906,71.6719 187.6906,71.2813 Q187.6906,70.9063 187.9563,70.6719 Q188.2219,70.4375 188.8313,70.4375 L193.9719,70.4375 Q194.5813,70.4375 194.8469,70.6719 Q195.1125,70.9063 195.1125,71.2813 Q195.1125,71.6719 194.8469,71.9063 Q194.5813,72.1406 193.9719,72.1406 L192.2531,72.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="207.7" y="81.2285">IEventHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="166.5" x2="309.5" y1="91.5" y2="91.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="166.5" x2="309.5" y1="99.5" y2="99.5"/><polygon fill="#FFFF44" points="176.5,108.8047,180.5,112.8047,176.5,116.8047,172.5,112.8047" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="185.5" y="118.0332">notify(Event event)</text></g><!--MD5=[fde78261c83df273810042a88c770c4d]
class LogLevel--><g id="elem_LogLevel"><rect codeLine="27" fill="#F1F1F1" height="118.4375" id="LogLevel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="892" y="247"/><ellipse cx="907" cy="263" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M905.8594,263.7969 L905.8594,266.2969 L910.1875,266.2969 L910.1875,265.375 Q910.1875,264.7656 910.4219,264.5 Q910.6719,264.2344 911.0469,264.2344 Q911.4219,264.2344 911.6563,264.5 Q911.8906,264.7656 911.8906,265.375 L911.8906,268 L903.8906,268 Q903.2656,268 903,267.7656 Q902.75,267.5313 902.75,267.1406 Q902.75,266.7656 903.0156,266.5313 Q903.2813,266.2969 903.8906,266.2969 L904.1563,266.2969 L904.1563,259.6406 L903.8906,259.6406 Q903.2656,259.6406 903,259.4063 Q902.75,259.1719 902.75,258.7813 Q902.75,258.4063 903,258.1719 Q903.2656,257.9375 903.8906,257.9375 L911.5156,257.9375 L911.5156,260.5313 Q911.5156,261.1406 911.2813,261.4063 Q911.0625,261.6563 910.6719,261.6563 Q910.2969,261.6563 910.0625,261.4063 Q909.8281,261.1406 909.8281,260.5313 L909.8281,259.6406 L905.8594,259.6406 L905.8594,262.0938 L907.3438,262.0938 Q907.3438,261.4375 907.4688,261.25 Q907.7344,260.8438 908.2031,260.8438 Q908.5781,260.8438 908.8125,261.1094 Q909.0469,261.3594 909.0469,261.9688 L909.0469,263.9375 Q909.0469,264.4844 908.9219,264.6719 Q908.6563,265.0625 908.2031,265.0625 Q907.7344,265.0625 907.4688,264.6563 Q907.3438,264.4688 907.3438,263.7969 L905.8594,263.7969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="921" y="268.7285">LogLevel</text><line style="stroke:#181818;stroke-width:0.5;" x1="893" x2="981" y1="279" y2="279"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="898" y="297.5332">DEBUG</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="898" y="315.1426">INFO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="898" y="332.752">WARNING</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="898" y="350.3613">ERROR</text><line style="stroke:#181818;stroke-width:0.5;" x1="893" x2="981" y1="357.4375" y2="357.4375"/></g><!--MD5=[9c3f40dd4d806dc4ecc502a287ec37eb]
class ILogger--><g id="elem_ILogger"><rect codeLine="34" fill="#F1F1F1" height="136.0469" id="ILogger" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204" x="653" y="238"/><ellipse cx="726.25" cy="254" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M727.2031,250.6406 L727.2031,257.2969 L728.9219,257.2969 Q729.5313,257.2969 729.7969,257.5313 Q730.0625,257.7656 730.0625,258.1563 Q730.0625,258.5313 729.7969,258.7656 Q729.5313,259 728.9219,259 L723.7813,259 Q723.1719,259 722.9063,258.7656 Q722.6406,258.5313 722.6406,258.1406 Q722.6406,257.7656 722.9063,257.5313 Q723.1719,257.2969 723.7813,257.2969 L725.5,257.2969 L725.5,250.6406 L723.7813,250.6406 Q723.1719,250.6406 722.9063,250.4063 Q722.6406,250.1719 722.6406,249.7813 Q722.6406,249.4063 722.9063,249.1719 Q723.1719,248.9375 723.7813,248.9375 L728.9219,248.9375 Q729.5313,248.9375 729.7969,249.1719 Q730.0625,249.4063 730.0625,249.7813 Q730.0625,250.1719 729.7969,250.4063 Q729.5313,250.6406 728.9219,250.6406 L727.2031,250.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="49" x="746.75" y="259.7285">ILogger</text><line style="stroke:#181818;stroke-width:0.5;" x1="654" x2="856" y1="270" y2="270"/><line style="stroke:#181818;stroke-width:0.5;" x1="654" x2="856" y1="278" y2="278"/><polygon fill="#FFFF44" points="664,287.3047,668,291.3047,664,295.3047,660,291.3047" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="673" y="296.5332">setLogLevel(LogLevel level)</text><polygon fill="#FFFF44" points="664,304.9141,668,308.9141,664,312.9141,660,308.9141" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="673" y="314.1426">debug(std::string msg)</text><polygon fill="#FFFF44" points="664,322.5234,668,326.5234,664,330.5234,660,326.5234" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="673" y="331.752">info(std::string msg)</text><polygon fill="#FFFF44" points="664,340.1328,668,344.1328,664,348.1328,660,344.1328" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="673" y="349.3613">warning(std::string msg)</text><polygon fill="#FFFF44" points="664,357.7422,668,361.7422,664,365.7422,660,361.7422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="673" y="366.9707">error(std::string msg)</text></g><!--MD5=[ac13618b1a974308c1f12eb6c57723dc]
class Event--><g id="elem_Event"><rect codeLine="54" fill="#F1F1F1" height="171.2656" id="Event" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="346" y="7"/><ellipse cx="388.9" cy="23" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M387.7594,23.7969 L387.7594,26.2969 L392.0875,26.2969 L392.0875,25.375 Q392.0875,24.7656 392.3219,24.5 Q392.5719,24.2344 392.9469,24.2344 Q393.3219,24.2344 393.5563,24.5 Q393.7906,24.7656 393.7906,25.375 L393.7906,28 L385.7906,28 Q385.1656,28 384.9,27.7656 Q384.65,27.5313 384.65,27.1406 Q384.65,26.7656 384.9156,26.5313 Q385.1813,26.2969 385.7906,26.2969 L386.0563,26.2969 L386.0563,19.6406 L385.7906,19.6406 Q385.1656,19.6406 384.9,19.4063 Q384.65,19.1719 384.65,18.7813 Q384.65,18.4063 384.9,18.1719 Q385.1656,17.9375 385.7906,17.9375 L393.4156,17.9375 L393.4156,20.5313 Q393.4156,21.1406 393.1813,21.4063 Q392.9625,21.6563 392.5719,21.6563 Q392.1969,21.6563 391.9625,21.4063 Q391.7281,21.1406 391.7281,20.5313 L391.7281,19.6406 L387.7594,19.6406 L387.7594,22.0938 L389.2438,22.0938 Q389.2438,21.4375 389.3688,21.25 Q389.6344,20.8438 390.1031,20.8438 Q390.4781,20.8438 390.7125,21.1094 Q390.9469,21.3594 390.9469,21.9688 L390.9469,23.9375 Q390.9469,24.4844 390.8219,24.6719 Q390.5563,25.0625 390.1031,25.0625 Q389.6344,25.0625 389.3688,24.6563 Q389.2438,24.4688 389.2438,23.7969 L387.7594,23.7969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="409.1" y="28.7285">Event</text><line style="stroke:#181818;stroke-width:0.5;" x1="347" x2="475" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="352" y="57.5332">START_X_SHORT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="352" y="75.1426">START_X_LONG</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="352" y="92.752">STOP_X_SHORT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="352" y="110.3613">...</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="352" y="127.9707">LB1_X_BLOCKED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="352" y="145.5801">MD_X_PAYLOAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="352" y="163.1895">...</text><line style="stroke:#181818;stroke-width:0.5;" x1="347" x2="475" y1="170.2656" y2="170.2656"/></g><!--MD5=[be3765a8ee426731c4981c30c0d20f09]
class HAL--><g id="elem_HAL"><rect codeLine="66" fill="#F1F1F1" height="558.6719" id="HAL" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="7" y="434"/><ellipse cx="98.75" cy="450" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M101.5156,445.875 Q101.6719,445.6563 101.8594,445.5469 Q102.0469,445.4375 102.2656,445.4375 Q102.6406,445.4375 102.875,445.7031 Q103.1094,445.9531 103.1094,446.5625 L103.1094,448.0156 Q103.1094,448.625 102.875,448.8906 Q102.6406,449.1563 102.2656,449.1563 Q101.9219,449.1563 101.7188,448.9531 Q101.5156,448.7656 101.4063,448.25 Q101.3594,447.8906 101.1719,447.7031 Q100.8438,447.3281 100.2344,447.1094 Q99.625,446.8906 99,446.8906 Q98.2344,446.8906 97.5938,447.2188 Q96.9688,447.5469 96.4688,448.2969 Q95.9844,449.0469 95.9844,450.0781 L95.9844,451.1719 Q95.9844,452.4063 96.875,453.2344 Q97.7656,454.0469 99.3594,454.0469 Q100.2969,454.0469 100.9531,453.7969 Q101.3438,453.6406 101.7656,453.2031 Q102.0313,452.9375 102.1719,452.8594 Q102.3281,452.7813 102.5313,452.7813 Q102.8594,452.7813 103.1094,453.0469 Q103.375,453.2969 103.375,453.6406 Q103.375,453.9844 103.0313,454.3906 Q102.5313,454.9688 101.7344,455.2969 Q100.6563,455.75 99.3594,455.75 Q97.8438,455.75 96.6406,455.125 Q95.6563,454.625 94.9688,453.5625 Q94.2813,452.4844 94.2813,451.2031 L94.2813,450.0469 Q94.2813,448.7188 94.8906,447.5781 Q95.5156,446.4219 96.6094,445.8125 Q97.7031,445.1875 98.9375,445.1875 Q99.6719,445.1875 100.3125,445.3594 Q100.9688,445.5156 101.5156,445.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="119.25" y="455.7285">HAL</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="224" y1="466" y2="466"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="477.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192" x="27" y="484.5332">EventManager* eventManager</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="494.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="27" y="502.1426">int evmConnectionId</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="512.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="27" y="519.752">ADC adc</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="530.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="27" y="537.3613">int adcChannel</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="547.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="27" y="554.9707">std::thread adcLoop</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="565.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="27" y="572.5801">bool adcLoopRunning</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="582.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="27" y="590.1895">int eventLoopChannel</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="600.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="27" y="607.7988">std::thread eventLoop</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="618.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="27" y="625.4082">bool eventLoopRunning</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="224" y1="632.4844" y2="632.4844"/><ellipse cx="18" cy="646.7891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="27" y="651.0176">notify(Event event)</text><ellipse cx="18" cy="664.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="27" y="668.627">greenLampOn()</text><ellipse cx="18" cy="682.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="27" y="686.2363">greenLampOff()</text><ellipse cx="18" cy="699.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="27" y="703.8457">yellowLampOn()</text><ellipse cx="18" cy="717.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="27" y="721.4551">yellowLampOff()</text><ellipse cx="18" cy="734.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="27" y="739.0645">redLampOn()</text><ellipse cx="18" cy="752.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="27" y="756.6738">redLampOff()</text><ellipse cx="18" cy="770.0547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="27" y="774.2832">startLedOn()</text><ellipse cx="18" cy="787.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="27" y="791.8926">startLedOff()</text><ellipse cx="18" cy="805.2734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="27" y="809.502">resetLedOn()</text><ellipse cx="18" cy="822.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="27" y="827.1113">resetLedOff()</text><ellipse cx="18" cy="840.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="27" y="844.7207">q1LedOn()</text><ellipse cx="18" cy="858.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="27" y="862.3301">q1LedOff()</text><ellipse cx="18" cy="875.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="27" y="879.9395">q2LedOn()</text><ellipse cx="18" cy="893.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="27" y="897.5488">q2LedOff()</text><ellipse cx="18" cy="910.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="27" y="915.1582">motorStop()</text><ellipse cx="18" cy="928.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="27" y="932.7676">motorRightFast()</text><ellipse cx="18" cy="946.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="27" y="950.377">motorRightSlow()</text><ellipse cx="18" cy="963.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="27" y="967.9863">openSwitch()</text><ellipse cx="18" cy="981.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="27" y="985.5957">closeSwitch()</text></g><!--MD5=[b5f3d95dafc7e5650d71f8b9ca76ad5d]
reverse link EventManager to ConsoleLogger--><g id="link_EventManager_ConsoleLogger"><path codeLine="12" d="M630.85,713.5 C638.17,713.5 645.49,713.5 652.81,713.5 " fill="none" id="EventManager-backto-ConsoleLogger" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="617.68,713.5,623.68,717.5,629.68,713.5,623.68,709.5,617.68,713.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7708b745a519b9dd1a4be2a64ec746a8]
reverse link Watchdog to EventManager--><g id="link_Watchdog_EventManager"><path codeLine="20" d="M371.34,369.55 C384.99,438.75 407.07,550.66 422.27,627.71 " fill="none" id="Watchdog-backto-EventManager" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="368.81,356.72,366.0457,363.3802,371.1304,368.4935,373.8947,361.8333,368.81,356.72" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[dea191f0231dcfff7c1ff5bcc8381f1b]
reverse link IEventHandler to Watchdog--><g id="link_IEventHandler_Watchdog"><path codeLine="21" d="M266.4,143.14 C285.72,176.92 311.19,221.43 330.53,255.23 " fill="none" id="IEventHandler-backto-Watchdog" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="260.23,146.46,256.38,125.62,272.38,139.51,260.23,146.46" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0549bcaaaac2d893b9a0c23e01fab8a4]
reverse link ILogger to LogLevel--><g id="link_ILogger_LogLevel"><path codeLine="42" d="M870.02,306 C877.25,306 884.47,306 891.7,306 " fill="none" id="ILogger-backto-LogLevel" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="857.02,306,863.02,310,869.02,306,863.02,302,857.02,306" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[97632770e9f369e6fca08c9c011a0d3a]
reverse link ILogger to ConsoleLogger--><g id="link_ILogger_ConsoleLogger"><path codeLine="52" d="M755,394.83 C755,466.82 755,567.66 755,636.28 " fill="none" id="ILogger-backto-ConsoleLogger" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="748,394.42,755,374.42,762,394.42,748,394.42" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[80fc126002394a0ad96b7e7f08bc6872]
link IEventHandler to Event--><g id="link_IEventHandler_Event"><path codeLine="64" d="M310.65,92.5 C322.41,92.5 334.17,92.5 345.93,92.5 " fill="none" id="IEventHandler-Event" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[4158b7762577f54ac6dbfffcddc5414e]
reverse link IEventHandler to HAL--><g id="link_IEventHandler_HAL"><path codeLine="98" d="M227.7,145.76 C215.01,210.17 192.46,324.54 170.94,433.75 " fill="none" id="IEventHandler-backto-HAL" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="220.88,144.18,231.61,125.91,234.61,146.88,220.88,144.18" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b7436e7b9a0931f05eb458171361227a]
reverse link HAL to EventManager--><g id="link_HAL_EventManager"><path codeLine="99" d="M238.3,713.5 C245.61,713.5 252.92,713.5 260.23,713.5 " fill="none" id="HAL-backto-EventManager" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="225.14,713.5,231.14,717.5,237.14,713.5,231.14,709.5,225.14,713.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8d58dea73d76fbcacb73a2251c41b49d]
@startuml

class EventManager {
  -int channelID
  -std::map<int, std::vector<IEventHandler&>> handlers
  -ILogger logger
  +register(Event event, IEventHandler& handler)
  +unregister(Event event, IEventHandler& handler)
  -receiveLoop()
  +sendEvent(Event event)
}

EventManager o- ConsoleLogger

class Watchdog {
  -EventManager* eventManager
  +notify(Event event)
  -sendHeartbeatLoop()
}

Watchdog o- - EventManager
IEventHandler <|.. Watchdog

interface IEventHandler {
  #notify(Event event)
}

enum LogLevel {
  DEBUG
  INFO
  WARNING
  ERROR
}

interface ILogger {
  #setLogLevel(LogLevel level)
  #debug(std::string msg)
  #info(std::string msg)
  #warning(std::string msg)
  #error(std::string msg)
}

ILogger *- LogLevel

class ConsoleLogger {
  -LogLevel level
  +setLogLevel(LogLevel level)
  +debug(std::string msg)
  +info(std::string msg)
  +warning(std::string msg)
  +error(std::string msg)
}
ILogger <|.. ConsoleLogger

enum Event {
  START_X_SHORT
  START_X_LONG
  STOP_X_SHORT
  ...
  LB1_X_BLOCKED
  MD_X_PAYLOAD
  ...
}

IEventHandler . Event

class HAL {
  -EventManager* eventManager
  -int evmConnectionId
  -ADC adc
  -int adcChannel
  -std::thread adcLoop
  -bool adcLoopRunning
  -int eventLoopChannel
  -std::thread eventLoop
  -bool eventLoopRunning
  +notify(Event event)
  +greenLampOn()
  +greenLampOff()
  +yellowLampOn()
  +yellowLampOff()
  +redLampOn()
  +redLampOff()
  +startLedOn()
  +startLedOff()
  +resetLedOn()
  +resetLedOff()
  +q1LedOn()
  +q1LedOff()
  +q2LedOn()
  +q2LedOff()
  +motorStop()
  +motorRightFast()
  +motorRightSlow()
  +openSwitch()
  +closeSwitch()
}

IEventHandler <|.. HAL
HAL o- EventManager

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>