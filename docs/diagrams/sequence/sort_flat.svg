<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1322px" preserveAspectRatio="none" style="width:1282px;height:1322px;background:#FFFFFF;" version="1.1" viewBox="0 0 1282 1322" width="1282px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="362.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="157" y="880.3594"/><rect fill="#FFFFFF" height="110.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="259" y="298.0313"/><rect fill="#FFFFFF" height="66.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="200.9766"/><rect fill="#FFFFFF" height="169.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="475.7891"/><rect fill="#FFFFFF" height="83.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="736.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="162" x2="162" y1="55.2188" y2="1268.2266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="263.5" x2="263.5" y1="55.2188" y2="1268.2266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="472" x2="472" y1="55.2188" y2="1268.2266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="689" x2="689" y1="55.2188" y2="1268.2266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="947.5" x2="947.5" y1="55.2188" y2="1268.2266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1149" x2="1149" y1="55.2188" y2="1268.2266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1244" x2="1244" y1="55.2188" y2="1268.2266"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="125" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="132" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="149" y="44.1426">HAL</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="125" y="1267.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="132" y="1288.7598">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="149" y="1306.3691">HAL</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="214.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="234" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="221.5" y="44.1426">HeightSensor</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="214.5" y="1267.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="234" y="1288.7598">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="221.5" y="1306.3691">HeightSensor</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="419" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="442" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="426" y="44.1426">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="419" y="1267.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="442" y="1288.7598">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="426" y="1306.3691">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="652" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="659" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="672" y="44.1426">Logic</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="652" y="1267.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="659" y="1288.7598">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="672" y="1306.3691">Logic</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="879.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="918" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="886.5" y="44.1426">WorkpieceManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="879.5" y="1267.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="918" y="1288.7598">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="886.5" y="1306.3691">WorkpieceManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="1096" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1124" y="26.5332">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="1103" y="44.1426">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="1096" y="1267.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1124" y="1288.7598">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="1103" y="1306.3691">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1212" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1219" y="26.5332">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1231" y="44.1426">HAL</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1212" y="1267.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1219" y="1288.7598">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1231" y="1306.3691">HAL</text><rect fill="#FFFFFF" height="362.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="157" y="880.3594"/><rect fill="#FFFFFF" height="110.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="259" y="298.0313"/><rect fill="#FFFFFF" height="66.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="200.9766"/><rect fill="#FFFFFF" height="169.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="475.7891"/><rect fill="#FFFFFF" height="83.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="736.6016"/><path d="M45,70.2188 L45,112.2188 L157,112.2188 L157,80.2188 L147,70.2188 L45,70.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M147,70.2188 L147,80.2188 L157,80.2188 L147,70.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="51" y="88.7139">Neues WS an</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="51" y="105.0654">FBM1 eingelegt</text><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="140.2734" y2="136.2734"/><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="140.2734" y2="144.2734"/><line style="stroke:#181818;stroke-width:1.0;" x1="162" x2="471" y1="140.2734" y2="140.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="169" y="135.417">LB1_1_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="170.625" y2="166.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="170.625" y2="174.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="472" x2="688" y1="170.625" y2="170.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="479" y="165.7686">handleEvent(LB1_1_BLOCKED)</text><polygon fill="#181818" points="931,196.9766,941,200.9766,931,204.9766,935,200.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="689" x2="937" y1="200.9766" y2="200.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="696" y="196.1201">createWp()</text><path d="M958,213.9766 L958,239.9766 L1124,239.9766 L1124,223.9766 L1114,213.9766 L958,213.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1114,213.9766 L1114,223.9766 L1124,223.9766 L1114,213.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="964" y="232.4717">WS mit neuer ID anlegen</text><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="700" y1="267.6797" y2="263.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="700" y1="267.6797" y2="271.6797"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="689" x2="947" y1="267.6797" y2="267.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="706" y="262.8232">createWp(): Workpiece</text><line style="stroke:#181818;stroke-width:1.0;" x1="270" x2="280" y1="298.0313" y2="294.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="270" x2="280" y1="298.0313" y2="302.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="471" y1="298.0313" y2="298.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="286" y="293.1748">handleEvent(LB1_1_BLOCKED)</text><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="311" y1="328.3828" y2="328.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="311" x2="311" y1="328.3828" y2="341.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="270" x2="311" y1="341.3828" y2="341.3828"/><polygon fill="#181818" points="280,337.3828,270,341.3828,280,345.3828,276,341.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="276" y="323.5264">start()</text><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="371.7344" y2="367.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="371.7344" y2="375.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="471" y1="371.7344" y2="371.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="276" y="366.8779">HM_RESULT_FLAT</text><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="311" y1="407.0859" y2="407.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="311" x2="311" y1="407.0859" y2="420.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="311" y1="420.0859" y2="420.0859"/><polygon fill="#181818" points="274,416.0859,264,420.0859,274,424.0859,270,420.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="276" y="402.2295">stop()</text><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="445.4375" y2="441.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="445.4375" y2="449.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="472" x2="688" y1="445.4375" y2="445.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="479" y="440.5811">handleEvent(HM_RESULT_FLAT)</text><polygon fill="#181818" points="931,471.7891,941,475.7891,931,479.7891,935,475.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="689" x2="937" y1="475.7891" y2="475.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="696" y="470.9326">handleHeightResult(HM_RESULT_FLAT)</text><path d="M958,488.7891 L958,530.7891 L1089,530.7891 L1089,498.7891 L1079,488.7891 L958,488.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1079,488.7891 L1079,498.7891 L1089,498.7891 L1079,488.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="964" y="507.2842">Erstes WS das auf</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="964" y="523.6357">HM wartet updaten</text><line style="stroke:#181818;stroke-width:1.0;" x1="953" x2="995" y1="558.8438" y2="558.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="995" x2="995" y1="558.8438" y2="571.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="954" x2="995" y1="571.8438" y2="571.8438"/><polygon fill="#181818" points="964,567.8438,954,571.8438,964,575.8438,960,571.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="960" y="553.9873">getWpByPos(START_HM): wp</text><line style="stroke:#181818;stroke-width:1.0;" x1="953" x2="995" y1="618.5469" y2="618.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="995" x2="995" y1="618.5469" y2="631.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="954" x2="995" y1="631.5469" y2="631.5469"/><polygon fill="#181818" points="964,627.5469,954,631.5469,964,635.5469,960,631.5469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="960" y="597.3389">wp.type = WS_F</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="960" y="613.6904">wp.result = INVALID</text><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="700" y1="645.5469" y2="641.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="700" y1="645.5469" y2="649.5469"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="689" x2="947" y1="645.5469" y2="645.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="675.8984" y2="671.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="675.8984" y2="679.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="162" x2="471" y1="675.8984" y2="675.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="169" y="671.042">LB2_1_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="706.25" y2="702.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="706.25" y2="710.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="472" x2="688" y1="706.25" y2="706.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="479" y="701.3936">handleEvent(LB2_1_BLOCKED)</text><polygon fill="#181818" points="931,732.6016,941,736.6016,931,740.6016,935,736.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="689" x2="937" y1="736.6016" y2="736.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="696" y="731.7451">sortOut()</text><path d="M958,749.6016 L958,791.6016 L1155,791.6016 L1155,759.6016 L1145,749.6016 L958,749.6016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1145,749.6016 L1145,759.6016 L1155,759.6016 L1145,749.6016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="964" y="768.0967">Bestimmen ob WP an Weiche</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="964" y="784.4482">aussortiert werden soll</text><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="700" y1="819.6563" y2="815.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="700" y1="819.6563" y2="823.6563"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="689" x2="947" y1="819.6563" y2="819.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="706" y="814.7998">sortOut(): true</text><line style="stroke:#181818;stroke-width:1.0;" x1="473" x2="483" y1="850.0078" y2="846.0078"/><line style="stroke:#181818;stroke-width:1.0;" x1="473" x2="483" y1="850.0078" y2="854.0078"/><line style="stroke:#181818;stroke-width:1.0;" x1="472" x2="688" y1="850.0078" y2="850.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="489" y="845.1514">SORT_1_OUT</text><line style="stroke:#181818;stroke-width:1.0;" x1="168" x2="178" y1="880.3594" y2="876.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="168" x2="178" y1="880.3594" y2="884.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="167" x2="471" y1="880.3594" y2="880.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="184" y="875.5029">handleEvent(SORT_1_OUT)</text><line style="stroke:#181818;stroke-width:1.0;" x1="167" x2="209" y1="910.7109" y2="910.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="209" x2="209" y1="910.7109" y2="923.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="168" x2="209" y1="923.7109" y2="923.7109"/><polygon fill="#181818" points="178,919.7109,168,923.7109,178,927.7109,174,923.7109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="174" y="905.8545">closeSwitch()</text><path d="M5,936.7109 L5,978.7109 L152,978.7109 L152,946.7109 L142,936.7109 L5,936.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M142,936.7109 L142,946.7109 L152,946.7109 L142,936.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="11" y="955.2061">Weiche schließen bis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="11" y="971.5576">WS an Rutsche</text><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="1006.7656" y2="1002.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="1006.7656" y2="1010.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="167" x2="471" y1="1006.7656" y2="1006.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="174" y="1001.9092">LB4_1_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="167" x2="209" y1="1037.1172" y2="1037.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="209" x2="209" y1="1037.1172" y2="1050.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="168" x2="209" y1="1050.1172" y2="1050.1172"/><polygon fill="#181818" points="178,1046.1172,168,1050.1172,178,1054.1172,174,1050.1172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="174" y="1032.2607">warningOn()</text><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="1080.4688" y2="1076.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="677" y1="1080.4688" y2="1084.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="472" x2="688" y1="1080.4688" y2="1080.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="479" y="1075.6123">handleEvent(LB4_1_BLOCKED)</text><line style="stroke:#181818;stroke-width:1.0;" x1="689" x2="731" y1="1110.8203" y2="1110.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="731" x2="731" y1="1110.8203" y2="1123.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="731" y1="1123.8203" y2="1123.8203"/><polygon fill="#181818" points="700,1119.8203,690,1123.8203,700,1127.8203,696,1123.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="696" y="1105.9639">wpSortedOut()</text><path d="M694,1136.8203 L694,1178.8203 L818,1178.8203 L818,1146.8203 L808,1136.8203 L694,1136.8203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M808,1136.8203 L808,1146.8203 L818,1146.8203 L808,1136.8203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="700" y="1155.3154">Aussortiertes WS</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="700" y="1171.667">löschen</text><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="1206.875" y2="1202.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="470" x2="460" y1="1206.875" y2="1210.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="167" x2="471" y1="1206.875" y2="1206.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="174" y="1202.0186">LB4_1_UNBLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="167" x2="209" y1="1242.2266" y2="1242.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="209" x2="209" y1="1242.2266" y2="1255.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="162" x2="209" y1="1255.2266" y2="1255.2266"/><polygon fill="#181818" points="172,1251.2266,162,1255.2266,172,1259.2266,168,1255.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="174" y="1237.3701">warningOff()</text><!--MD5=[56e84856421d8eb5fb112b3cb3ab8d16]
@startuml
participant "HAL" as HAL_M << Master >>
participant "HeightSensor" as HM_M << Master >>
participant "EventManager" as EVM_M << Master >>
participant "Logic" as Logic << Master >>
participant "WorkpieceManager" as WPM << Master >>
participant "EventManager" as EVM_S << Slave >>
participant "HAL" as HAL_S << Slave >>

note left of HAL_M : Neues WS an\nFBM1 eingelegt
HAL_M ->> EVM_M : LB1_1_BLOCKED
EVM_M ->> Logic : handleEvent(LB1_1_BLOCKED)
Logic -> WPM : createWp()
note right of WPM : WS mit neuer ID anlegen
activate WPM
WPM - ->> Logic : createWp(): Workpiece
deactivate WPM
EVM_M ->> HM_M : handleEvent(LB1_1_BLOCKED)
activate HM_M
HM_M -> HM_M : start()
HM_M ->> EVM_M : HM_RESULT_FLAT
HM_M -> HM_M : stop()
deactivate HM_M
EVM_M ->> Logic : handleEvent(HM_RESULT_FLAT)
Logic -> WPM : handleHeightResult(HM_RESULT_FLAT)
activate WPM
note right of WPM : Erstes WS das auf\nHM wartet updaten
WPM -> WPM : getWpByPos(START_HM): wp
WPM -> WPM : wp.type = WS_F\nwp.result = INVALID
WPM - ->> Logic
deactivate WPM

HAL_M ->> EVM_M : LB2_1_BLOCKED
EVM_M ->> Logic : handleEvent(LB2_1_BLOCKED)
Logic -> WPM : sortOut()
activate WPM
note right of WPM : Bestimmen ob WP an Weiche\naussortiert werden soll
WPM - ->> Logic : sortOut(): true
deactivate WPM
Logic ->> EVM_M : SORT_1_OUT
EVM_M ->> HAL_M : handleEvent(SORT_1_OUT)
activate HAL_M
HAL_M -> HAL_M : closeSwitch()
note left of HAL_M : Weiche schließen bis\nWS an Rutsche
HAL_M ->> EVM_M : LB4_1_BLOCKED
HAL_M -> HAL_M : warningOn()
EVM_M ->> Logic : handleEvent(LB4_1_BLOCKED)
Logic -> Logic : wpSortedOut()
note right of Logic : Aussortiertes WS\nlöschen
HAL_M ->> EVM_M : LB4_1_UNBLOCKED
HAL_M -> HAL_M : warningOff()
deactivate HAL_M

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>