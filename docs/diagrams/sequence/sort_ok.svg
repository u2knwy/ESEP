<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2505px" preserveAspectRatio="none" style="width:1558px;height:2505px;background:#FFFFFF;" version="1.1" viewBox="0 0 1558 2505" width="1558px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="89.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="134" y="936.4141"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="134" y="1581.7969"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="134" y="1845.9609"/><rect fill="#FFFFFF" height="142.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="255" y="328.3828"/><rect fill="#FFFFFF" height="66.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="954" y="200.9766"/><rect fill="#FFFFFF" height="169.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="954" y="531.8438"/><rect fill="#FFFFFF" height="83.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="954" y="792.6563"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1362" y="1477.7422"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1362" y="2193.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="139" x2="139" y1="55.2188" y2="2450.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="259.5" x2="259.5" y1="55.2188" y2="2450.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="467" x2="467" y1="55.2188" y2="2450.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="735" x2="735" y1="55.2188" y2="2450.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="958.5" x2="958.5" y1="55.2188" y2="2450.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1160" x2="1160" y1="55.2188" y2="2450.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1367" x2="1367" y1="55.2188" y2="2450.9922"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="102" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="109" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="126" y="44.1426">HAL</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="102" y="2449.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="109" y="2471.5254">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="126" y="2489.1348">HAL</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="210.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="230" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="217.5" y="44.1426">HeightSensor</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="210.5" y="2449.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="230" y="2471.5254">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="217.5" y="2489.1348">HeightSensor</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="414" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="437" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="421" y="44.1426">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="414" y="2449.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="437" y="2471.5254">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="421" y="2489.1348">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="698" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="705" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="718" y="44.1426">Logic</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="698" y="2449.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="705" y="2471.5254">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="718" y="2489.1348">Logic</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="890.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="929" y="26.5332">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="897.5" y="44.1426">WorkpieceManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="890.5" y="2449.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="929" y="2471.5254">«Master»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="897.5" y="2489.1348">WorkpieceManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="1107" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1135" y="26.5332">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="1114" y="44.1426">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="1107" y="2449.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1135" y="2471.5254">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="1114" y="2489.1348">EventManager</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1335" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1342" y="26.5332">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1354" y="44.1426">HAL</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1335" y="2449.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="1342" y="2471.5254">«Slave»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1354" y="2489.1348">HAL</text><rect fill="#FFFFFF" height="89.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="134" y="936.4141"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="134" y="1581.7969"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="134" y="1845.9609"/><rect fill="#FFFFFF" height="142.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="255" y="328.3828"/><rect fill="#FFFFFF" height="66.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="954" y="200.9766"/><rect fill="#FFFFFF" height="169.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="954" y="531.8438"/><rect fill="#FFFFFF" height="83.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="954" y="792.6563"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1362" y="1477.7422"/><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1362" y="2193.1797"/><path d="M22,70.2188 L22,112.2188 L134,112.2188 L134,80.2188 L124,70.2188 L22,70.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M124,70.2188 L124,80.2188 L134,80.2188 L124,70.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="28" y="88.7139">Neues WS an</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="28" y="105.0654">FBM1 eingelegt</text><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="140.2734" y2="136.2734"/><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="140.2734" y2="144.2734"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="466" y1="140.2734" y2="140.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="146" y="135.417">LBA_M_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="170.625" y2="166.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="170.625" y2="174.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="170.625" y2="170.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="474" y="165.7686">handleEvent(LBA_M_BLOCKED)</text><polygon fill="#181818" points="942,196.9766,952,200.9766,942,204.9766,946,200.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="735" x2="948" y1="200.9766" y2="200.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="742" y="196.1201">addWorkpiece()</text><path d="M969,213.9766 L969,239.9766 L1135,239.9766 L1135,223.9766 L1125,213.9766 L969,213.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1125,213.9766 L1125,223.9766 L1135,223.9766 L1125,213.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="975" y="232.4717">WS mit neuer ID anlegen</text><line style="stroke:#181818;stroke-width:1.0;" x1="736" x2="746" y1="267.6797" y2="263.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="736" x2="746" y1="267.6797" y2="271.6797"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="735" x2="958" y1="267.6797" y2="267.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="752" y="262.8232">addWorkpiece(): Workpiece*</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="298.0313" y2="294.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="298.0313" y2="302.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="298.0313" y2="298.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="484" y="293.1748">MOTOR_M_FAST</text><line style="stroke:#181818;stroke-width:1.0;" x1="266" x2="276" y1="328.3828" y2="324.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="266" x2="276" y1="328.3828" y2="332.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="265" x2="466" y1="328.3828" y2="328.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="282" y="323.5264">handleEvent(MOTOR_M_FAST)</text><line style="stroke:#181818;stroke-width:1.0;" x1="265" x2="307" y1="358.7344" y2="358.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="307" x2="307" y1="358.7344" y2="371.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="266" x2="307" y1="371.7344" y2="371.7344"/><polygon fill="#181818" points="276,367.7344,266,371.7344,276,375.7344,272,371.7344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="272" y="353.8779">start()</text><path d="M98,384.7344 L98,443.7344 L250,443.7344 L250,394.7344 L240,384.7344 L98,384.7344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M240,384.7344 L240,394.7344 L250,394.7344 L240,384.7344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="104" y="403.2295">HM wird gestartet und</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="104" y="419.5811">erkannter Typ und</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="104" y="435.9326">avg(22.4mm) gesendet</text><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="471.1406" y2="467.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="471.1406" y2="475.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="260" x2="466" y1="471.1406" y2="471.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="267" y="466.2842">HM_M_WS_BOM(data=224)</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="501.4922" y2="497.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="501.4922" y2="505.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="501.4922" y2="501.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="474" y="496.6357">handleEvent(HM_M_WS_BOM(data=224))</text><polygon fill="#181818" points="942,527.8438,952,531.8438,942,535.8438,946,531.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="735" x2="948" y1="531.8438" y2="531.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="742" y="526.9873">setHeight(HM_M_WS_BOM, data)</text><path d="M969,544.8438 L969,586.8438 L1100,586.8438 L1100,554.8438 L1090,544.8438 L969,544.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1090,544.8438 L1090,554.8438 L1100,554.8438 L1090,544.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="975" y="563.3389">Erstes WS das auf</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="975" y="579.6904">HM wartet updaten</text><line style="stroke:#181818;stroke-width:1.0;" x1="964" x2="1006" y1="614.8984" y2="614.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1006" y1="614.8984" y2="627.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="965" x2="1006" y1="627.8984" y2="627.8984"/><polygon fill="#181818" points="975,623.8984,965,627.8984,975,631.8984,971,627.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="971" y="610.042">getWpByPos(START_HM): wp</text><line style="stroke:#181818;stroke-width:1.0;" x1="964" x2="1006" y1="674.6016" y2="674.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1006" y1="674.6016" y2="687.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="965" x2="1006" y1="687.6016" y2="687.6016"/><polygon fill="#181818" points="975,683.6016,965,687.6016,975,691.6016,971,687.6016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="971" y="653.3936">wp.type = WS_BOM</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="971" y="669.7451">wp.result = VALID</text><line style="stroke:#181818;stroke-width:1.0;" x1="736" x2="746" y1="701.6016" y2="697.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="736" x2="746" y1="701.6016" y2="705.6016"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="735" x2="958" y1="701.6016" y2="701.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="731.9531" y2="727.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="731.9531" y2="735.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="466" y1="731.9531" y2="731.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="146" y="727.0967">LBW_M_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="762.3047" y2="758.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="762.3047" y2="766.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="762.3047" y2="762.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="474" y="757.4482">handleEvent(LBW_M_BLOCKED)</text><polygon fill="#181818" points="942,788.6563,952,792.6563,942,796.6563,946,792.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="735" x2="948" y1="792.6563" y2="792.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="742" y="787.7998">sortOut()</text><path d="M969,805.6563 L969,847.6563 L1166,847.6563 L1166,815.6563 L1156,805.6563 L969,805.6563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1156,805.6563 L1156,815.6563 L1166,815.6563 L1156,805.6563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="975" y="824.1514">Bestimmen ob WP an Weiche</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="975" y="840.5029">aussortiert werden soll</text><line style="stroke:#181818;stroke-width:1.0;" x1="736" x2="746" y1="875.7109" y2="871.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="736" x2="746" y1="875.7109" y2="879.7109"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="735" x2="958" y1="875.7109" y2="875.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="752" y="870.8545">sortOut(): false</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="906.0625" y2="902.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="906.0625" y2="910.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="906.0625" y2="906.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="484" y="901.2061">SORT_M_OUT(data=0)</text><line style="stroke:#181818;stroke-width:1.0;" x1="145" x2="155" y1="936.4141" y2="932.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="145" x2="155" y1="936.4141" y2="940.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="144" x2="466" y1="936.4141" y2="936.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="161" y="931.5576">handleEvent(SORT_M_OUT(data=0))</text><path d="M5,949.4141 L5,991.4141 L129,991.4141 L129,959.4141 L119,949.4141 L5,949.4141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M119,949.4141 L119,959.4141 L129,959.4141 L119,949.4141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="11" y="967.9092">Weiche öffnen bis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="11" y="984.2607">WS passiert ist</text><line style="stroke:#181818;stroke-width:1.0;" x1="144" x2="186" y1="1024.4688" y2="1024.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="186" x2="186" y1="1024.4688" y2="1037.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="186" y1="1037.4688" y2="1037.4688"/><polygon fill="#181818" points="149,1033.4688,139,1037.4688,149,1041.4688,145,1037.4688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="151" y="1019.6123">openSwitch()</text><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="1062.8203" y2="1058.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="465" x2="455" y1="1062.8203" y2="1066.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="466" y1="1062.8203" y2="1062.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="146" y="1057.9639">LBE_M_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="1093.1719" y2="1089.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="1093.1719" y2="1097.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="1093.1719" y2="1093.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="474" y="1088.3154">handleEvent(LBE_M_BLOCKED)</text><path d="M740,1106.1719 L740,1132.1719 L946,1132.1719 L946,1116.1719 L936,1106.1719 L740,1106.1719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M936,1106.1719 L936,1116.1719 L946,1116.1719 L936,1106.1719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="746" y="1124.667">FBM2 ist belegt -&gt; Motor stoppt</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1159.875" y2="1155.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1159.875" y2="1163.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="1159.875" y2="1159.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="484" y="1155.0186">MOTOR_M_STOP</text><line style="stroke:#181818;stroke-width:1.0;" x1="140" x2="150" y1="1190.2266" y2="1186.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="140" x2="150" y1="1190.2266" y2="1194.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="466" y1="1190.2266" y2="1190.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="156" y="1185.3701">handleEvent(MOTOR_M_STOP)</text><path d="M30,1203.2266 L30,1229.2266 L134,1229.2266 L134,1213.2266 L124,1203.2266 L30,1203.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M124,1203.2266 L124,1213.2266 L134,1213.2266 L124,1203.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="36" y="1221.7217">Motor stoppen</text><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="1256.9297" y2="1252.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="1256.9297" y2="1260.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1160" x2="1366" y1="1256.9297" y2="1256.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1177" y="1252.0732">LBE_S_UNBLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1287.2813" y2="1283.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1287.2813" y2="1291.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="1159" y1="1287.2813" y2="1287.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="484" y="1282.4248">LBE_S_UNBLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="1317.6328" y2="1313.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="1317.6328" y2="1321.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="1317.6328" y2="1317.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="474" y="1312.7764">handleEvent(LBE_S_UNBLOCKED)</text><path d="M740,1330.6328 L740,1389.6328 L982,1389.6328 L982,1340.6328 L972,1330.6328 L740,1330.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M972,1330.6328 L972,1340.6328 L982,1340.6328 L972,1330.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="746" y="1349.1279">FBM2 ist wieder frei -&gt; State Wechsel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="746" y="1365.4795">(auch möglich wenn WS</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="746" y="1381.8311">aussortiert worden wäre)</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1417.0391" y2="1413.0391"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1417.0391" y2="1421.0391"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="1417.0391" y2="1417.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="484" y="1412.1826">MOTOR_M_FAST</text><line style="stroke:#181818;stroke-width:1.0;" x1="1158" x2="1148" y1="1447.3906" y2="1443.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1158" x2="1148" y1="1447.3906" y2="1451.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="1159" y1="1447.3906" y2="1447.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="474" y="1442.5342">MOTOR_M_FAST</text><line style="stroke:#181818;stroke-width:1.0;" x1="140" x2="150" y1="1477.7422" y2="1473.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="140" x2="150" y1="1477.7422" y2="1481.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="1159" y1="1477.7422" y2="1477.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="156" y="1472.8857">handleEvent(MOTOR_M_FAST)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1372" x2="1414" y1="1513.0938" y2="1513.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1414" y1="1513.0938" y2="1526.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1367" x2="1414" y1="1526.0938" y2="1526.0938"/><polygon fill="#181818" points="1377,1522.0938,1367,1526.0938,1377,1530.0938,1373,1526.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1379" y="1508.2373">motorRightFast()</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1551.4453" y2="1547.4453"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1551.4453" y2="1555.4453"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="1551.4453" y2="1551.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="484" y="1546.5889">MOTOR_M_FAST</text><line style="stroke:#181818;stroke-width:1.0;" x1="145" x2="155" y1="1581.7969" y2="1577.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="145" x2="155" y1="1581.7969" y2="1585.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="144" x2="466" y1="1581.7969" y2="1581.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="161" y="1576.9404">handleEvent(MOTOR_M_FAST)</text><line style="stroke:#181818;stroke-width:1.0;" x1="144" x2="186" y1="1617.1484" y2="1617.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="186" x2="186" y1="1617.1484" y2="1630.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="186" y1="1630.1484" y2="1630.1484"/><polygon fill="#181818" points="149,1626.1484,139,1630.1484,149,1634.1484,145,1630.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="151" y="1612.292">motorRightFast()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="1655.5" y2="1651.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="1655.5" y2="1659.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="1160" x2="1366" y1="1655.5" y2="1655.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1177" y="1650.6436">LBA_S_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1685.8516" y2="1681.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1685.8516" y2="1689.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="1159" y1="1685.8516" y2="1685.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="484" y="1680.9951">LBA_S_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="1716.2031" y2="1712.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="1716.2031" y2="1720.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="1716.2031" y2="1716.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="474" y="1711.3467">handleEvent(LBA_S_BLOCKED)</text><path d="M740,1729.2031 L740,1788.2031 L926,1788.2031 L926,1739.2031 L916,1729.2031 L740,1729.2031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M916,1729.2031 L916,1739.2031 L926,1739.2031 L916,1729.2031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="746" y="1747.6982">WS an FBM2 angekommen,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="746" y="1764.0498">keine weiteren auf FBM1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="746" y="1780.4014">-&gt; Motor kann stoppen</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1815.6094" y2="1811.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="1815.6094" y2="1819.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="1815.6094" y2="1815.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="484" y="1810.7529">MOTOR_M_STOP</text><line style="stroke:#181818;stroke-width:1.0;" x1="145" x2="155" y1="1845.9609" y2="1841.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="145" x2="155" y1="1845.9609" y2="1849.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="144" x2="466" y1="1845.9609" y2="1845.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="161" y="1841.1045">handleEvent(MOTOR_M_STOP)</text><line style="stroke:#181818;stroke-width:1.0;" x1="144" x2="186" y1="1881.3125" y2="1881.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="186" x2="186" y1="1881.3125" y2="1894.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="139" x2="186" y1="1894.3125" y2="1894.3125"/><polygon fill="#181818" points="149,1890.3125,139,1894.3125,149,1898.3125,145,1894.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="151" y="1876.4561">motorStop()</text><path d="M1372,1902.3125 L1372,1961.3125 L1551,1961.3125 L1551,1912.3125 L1541,1902.3125 L1372,1902.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1541,1902.3125 L1541,1912.3125 L1551,1912.3125 L1541,1902.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1378" y="1920.8076">WS läuft bis Ende, gleicher</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1378" y="1937.1592">Ablauf wie bei FBM1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="1378" y="1953.5107">...</text><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="1988.7188" y2="1984.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="1988.7188" y2="1992.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1160" x2="1366" y1="1988.7188" y2="1988.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1177" y="1983.8623">LBE_S_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="2019.0703" y2="2015.0703"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="2019.0703" y2="2023.0703"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="1159" y1="2019.0703" y2="2019.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="484" y="2014.2139">LBE_S_BLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="2049.4219" y2="2045.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="2049.4219" y2="2053.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="2049.4219" y2="2049.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="474" y="2044.5654">handleEvent(LBE_S_BLOCKED)</text><path d="M740,2062.4219 L740,2104.4219 L932,2104.4219 L932,2072.4219 L922,2062.4219 L740,2062.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M922,2062.4219 L922,2072.4219 L932,2072.4219 L922,2062.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="746" y="2080.917">WS ist am Ende von FBM2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="746" y="2097.2686">angekommen -&gt; Motor stoppt</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="2132.4766" y2="2128.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="2132.4766" y2="2136.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="2132.4766" y2="2132.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="484" y="2127.6201">MOTOR_S_STOP</text><line style="stroke:#181818;stroke-width:1.0;" x1="1158" x2="1148" y1="2162.8281" y2="2158.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1158" x2="1148" y1="2162.8281" y2="2166.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="1159" y1="2162.8281" y2="2162.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="474" y="2157.9717">MOTOR_S_STOP</text><line style="stroke:#181818;stroke-width:1.0;" x1="1360" x2="1350" y1="2193.1797" y2="2189.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1360" x2="1350" y1="2193.1797" y2="2197.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1160" x2="1361" y1="2193.1797" y2="2193.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1167" y="2188.3232">handleEvent(MOTOR_S_STOP)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1372" x2="1414" y1="2228.5313" y2="2228.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1414" y1="2228.5313" y2="2241.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="1367" x2="1414" y1="2241.5313" y2="2241.5313"/><polygon fill="#181818" points="1377,2237.5313,1367,2241.5313,1377,2245.5313,1373,2241.5313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1379" y="2223.6748">motorStop()</text><path d="M1372,2249.5313 L1372,2291.5313 L1525,2291.5313 L1525,2259.5313 L1515,2249.5313 L1372,2249.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1515,2249.5313 L1515,2259.5313 L1525,2259.5313 L1515,2249.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="1378" y="2268.0264">WS wurde entnommen</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1378" y="2284.3779">-&gt; FBM2 ist frei</text><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="2319.5859" y2="2315.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1161" x2="1171" y1="2319.5859" y2="2323.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1160" x2="1366" y1="2319.5859" y2="2319.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1177" y="2314.7295">LBE_S_UNBLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="2349.9375" y2="2345.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="478" y1="2349.9375" y2="2353.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="1159" y1="2349.9375" y2="2349.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="484" y="2345.0811">LBE_S_UNBLOCKED</text><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="2380.2891" y2="2376.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="723" y1="2380.2891" y2="2384.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="467" x2="734" y1="2380.2891" y2="2380.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="474" y="2375.4326">handleEvent(LBE_S_UNBLOCKED)</text><path d="M740,2393.2891 L740,2435.2891 L970,2435.2891 L970,2403.2891 L960,2393.2891 L740,2393.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M960,2393.2891 L960,2403.2891 L970,2403.2891 L960,2393.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="746" y="2411.7842">Nächstes WS kann nun direkt</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="746" y="2428.1357">übergeben werden ohne zu warten...</text><!--MD5=[ac58e1bdddacb348c3b5b7d7dbb18aeb]
@startuml
participant "HAL" as HAL_M << Master >>
participant "HeightSensor" as HM_M << Master >>
participant "EventManager" as EVM_M << Master >>
participant "Logic" as Logic << Master >>
participant "WorkpieceManager" as WPM << Master >>
participant "EventManager" as EVM_S << Slave >>
participant "HAL" as HAL_S << Slave >>

note left of HAL_M : Neues WS an\nFBM1 eingelegt
HAL_M ->> EVM_M : LBA_M_BLOCKED
EVM_M ->> Logic : handleEvent(LBA_M_BLOCKED)
Logic -> WPM : addWorkpiece()
note right of WPM : WS mit neuer ID anlegen
activate WPM
WPM - ->> Logic : addWorkpiece(): Workpiece*
deactivate WPM
Logic ->> EVM_M : MOTOR_M_FAST
EVM_M ->> HM_M : handleEvent(MOTOR_M_FAST)
activate HM_M
HM_M -> HM_M : start()
note left of HM_M : HM wird gestartet und\nerkannter Typ und\navg(22.4mm) gesendet
HM_M ->> EVM_M : HM_M_WS_BOM(data=224)
deactivate HM_M
EVM_M ->> Logic : handleEvent(HM_M_WS_BOM(data=224))
Logic -> WPM : setHeight(HM_M_WS_BOM, data)
activate WPM
note right of WPM : Erstes WS das auf\nHM wartet updaten
WPM -> WPM : getWpByPos(START_HM): wp
WPM -> WPM : wp.type = WS_BOM\nwp.result = VALID
WPM - ->> Logic
deactivate WPM

HAL_M ->> EVM_M : LBW_M_BLOCKED
EVM_M ->> Logic : handleEvent(LBW_M_BLOCKED)
Logic -> WPM : sortOut()
activate WPM
note right of WPM : Bestimmen ob WP an Weiche\naussortiert werden soll
WPM - ->> Logic : sortOut(): false
deactivate WPM
Logic ->> EVM_M : SORT_M_OUT(data=0)
EVM_M ->> HAL_M : handleEvent(SORT_M_OUT(data=0))
note left of HAL_M : Weiche öffnen bis\nWS passiert ist
activate HAL_M
HAL_M -> HAL_M : openSwitch()
deactivate HAL_M
HAL_M ->> EVM_M : LBE_M_BLOCKED
EVM_M ->> Logic : handleEvent(LBE_M_BLOCKED)
note right of Logic : FBM2 ist belegt -> Motor stoppt
Logic ->> EVM_M : MOTOR_M_STOP
EVM_M ->> HAL_M : handleEvent(MOTOR_M_STOP)
note left of HAL_M : Motor stoppen
HAL_S ->> EVM_S : LBE_S_UNBLOCKED
EVM_S ->> EVM_M : LBE_S_UNBLOCKED
EVM_M ->> Logic : handleEvent(LBE_S_UNBLOCKED)
note right of Logic : FBM2 ist wieder frei -> State Wechsel\n(auch möglich wenn WS\naussortiert worden wäre)
Logic ->> EVM_M : MOTOR_M_FAST
EVM_M ->> EVM_S : MOTOR_M_FAST
EVM_S ->> HAL_M : handleEvent(MOTOR_M_FAST)
activate HAL_S
HAL_S -> HAL_S : motorRightFast()
deactivate HAL_S
Logic ->> EVM_M : MOTOR_M_FAST
EVM_M ->> HAL_M : handleEvent(MOTOR_M_FAST)
activate HAL_M
HAL_M -> HAL_M : motorRightFast()
deactivate HAL_M

' WS an FBM2 angekommen -> 
HAL_S ->> EVM_S : LBA_S_BLOCKED
EVM_S ->> EVM_M : LBA_S_BLOCKED
EVM_M ->> Logic : handleEvent(LBA_S_BLOCKED)
note right of Logic : WS an FBM2 angekommen,\nkeine weiteren auf FBM1\n-> Motor kann stoppen
Logic ->> EVM_M : MOTOR_M_STOP
EVM_M ->> HAL_M : handleEvent(MOTOR_M_STOP)
activate HAL_M
HAL_M -> HAL_M : motorStop()
deactivate HAL_M

note right of HAL_S : WS läuft bis Ende, gleicher\nAblauf wie bei FBM1\n...
HAL_S ->> EVM_S : LBE_S_BLOCKED
EVM_S ->> EVM_M : LBE_S_BLOCKED
EVM_M ->> Logic : handleEvent(LBE_S_BLOCKED)
note right of Logic : WS ist am Ende von FBM2\nangekommen -> Motor stoppt
Logic ->> EVM_M : MOTOR_S_STOP
EVM_M ->> EVM_S : MOTOR_S_STOP
EVM_S ->> HAL_S : handleEvent(MOTOR_S_STOP)
activate HAL_S
HAL_S -> HAL_S : motorStop()
deactivate HAL_S

note right of HAL_S : WS wurde entnommen\n-> FBM2 ist frei
HAL_S ->> EVM_S : LBE_S_UNBLOCKED
EVM_S ->> EVM_M : LBE_S_UNBLOCKED
EVM_M ->> Logic : handleEvent(LBE_S_UNBLOCKED)
note right of Logic : Nächstes WS kann nun direkt\nübergeben werden ohne zu warten...

@enduml

@startuml
participant "HAL" as HAL_M << Master >>
participant "HeightSensor" as HM_M << Master >>
participant "EventManager" as EVM_M << Master >>
participant "Logic" as Logic << Master >>
participant "WorkpieceManager" as WPM << Master >>
participant "EventManager" as EVM_S << Slave >>
participant "HAL" as HAL_S << Slave >>

note left of HAL_M : Neues WS an\nFBM1 eingelegt
HAL_M ->> EVM_M : LBA_M_BLOCKED
EVM_M ->> Logic : handleEvent(LBA_M_BLOCKED)
Logic -> WPM : addWorkpiece()
note right of WPM : WS mit neuer ID anlegen
activate WPM
WPM - ->> Logic : addWorkpiece(): Workpiece*
deactivate WPM
Logic ->> EVM_M : MOTOR_M_FAST
EVM_M ->> HM_M : handleEvent(MOTOR_M_FAST)
activate HM_M
HM_M -> HM_M : start()
note left of HM_M : HM wird gestartet und\nerkannter Typ und\navg(22.4mm) gesendet
HM_M ->> EVM_M : HM_M_WS_BOM(data=224)
deactivate HM_M
EVM_M ->> Logic : handleEvent(HM_M_WS_BOM(data=224))
Logic -> WPM : setHeight(HM_M_WS_BOM, data)
activate WPM
note right of WPM : Erstes WS das auf\nHM wartet updaten
WPM -> WPM : getWpByPos(START_HM): wp
WPM -> WPM : wp.type = WS_BOM\nwp.result = VALID
WPM - ->> Logic
deactivate WPM

HAL_M ->> EVM_M : LBW_M_BLOCKED
EVM_M ->> Logic : handleEvent(LBW_M_BLOCKED)
Logic -> WPM : sortOut()
activate WPM
note right of WPM : Bestimmen ob WP an Weiche\naussortiert werden soll
WPM - ->> Logic : sortOut(): false
deactivate WPM
Logic ->> EVM_M : SORT_M_OUT(data=0)
EVM_M ->> HAL_M : handleEvent(SORT_M_OUT(data=0))
note left of HAL_M : Weiche öffnen bis\nWS passiert ist
activate HAL_M
HAL_M -> HAL_M : openSwitch()
deactivate HAL_M
HAL_M ->> EVM_M : LBE_M_BLOCKED
EVM_M ->> Logic : handleEvent(LBE_M_BLOCKED)
note right of Logic : FBM2 ist belegt -> Motor stoppt
Logic ->> EVM_M : MOTOR_M_STOP
EVM_M ->> HAL_M : handleEvent(MOTOR_M_STOP)
note left of HAL_M : Motor stoppen
HAL_S ->> EVM_S : LBE_S_UNBLOCKED
EVM_S ->> EVM_M : LBE_S_UNBLOCKED
EVM_M ->> Logic : handleEvent(LBE_S_UNBLOCKED)
note right of Logic : FBM2 ist wieder frei -> State Wechsel\n(auch möglich wenn WS\naussortiert worden wäre)
Logic ->> EVM_M : MOTOR_M_FAST
EVM_M ->> EVM_S : MOTOR_M_FAST
EVM_S ->> HAL_M : handleEvent(MOTOR_M_FAST)
activate HAL_S
HAL_S -> HAL_S : motorRightFast()
deactivate HAL_S
Logic ->> EVM_M : MOTOR_M_FAST
EVM_M ->> HAL_M : handleEvent(MOTOR_M_FAST)
activate HAL_M
HAL_M -> HAL_M : motorRightFast()
deactivate HAL_M

HAL_S ->> EVM_S : LBA_S_BLOCKED
EVM_S ->> EVM_M : LBA_S_BLOCKED
EVM_M ->> Logic : handleEvent(LBA_S_BLOCKED)
note right of Logic : WS an FBM2 angekommen,\nkeine weiteren auf FBM1\n-> Motor kann stoppen
Logic ->> EVM_M : MOTOR_M_STOP
EVM_M ->> HAL_M : handleEvent(MOTOR_M_STOP)
activate HAL_M
HAL_M -> HAL_M : motorStop()
deactivate HAL_M

note right of HAL_S : WS läuft bis Ende, gleicher\nAblauf wie bei FBM1\n...
HAL_S ->> EVM_S : LBE_S_BLOCKED
EVM_S ->> EVM_M : LBE_S_BLOCKED
EVM_M ->> Logic : handleEvent(LBE_S_BLOCKED)
note right of Logic : WS ist am Ende von FBM2\nangekommen -> Motor stoppt
Logic ->> EVM_M : MOTOR_S_STOP
EVM_M ->> EVM_S : MOTOR_S_STOP
EVM_S ->> HAL_S : handleEvent(MOTOR_S_STOP)
activate HAL_S
HAL_S -> HAL_S : motorStop()
deactivate HAL_S

note right of HAL_S : WS wurde entnommen\n-> FBM2 ist frei
HAL_S ->> EVM_S : LBE_S_UNBLOCKED
EVM_S ->> EVM_M : LBE_S_UNBLOCKED
EVM_M ->> Logic : handleEvent(LBE_S_UNBLOCKED)
note right of Logic : Nächstes WS kann nun direkt\nübergeben werden ohne zu warten...

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>